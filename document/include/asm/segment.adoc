= segment.h

== 功能描述

该文件中定义了一些访问Intel CPU中段寄存器或与段寄存器有关的内存操作函数。在Linux系统中， 当用户程序通过系统调用开始执行内核代码时，内核程序会首先在段寄存器 ds 和 es 中加载全局描述符表 GDT 中的内核数据段描述符(段值 0x10)，即把 ds 和 es 用于访问内核数据段;而在 fs 中加载了局部描述符表 LDT 中的任务的数据段描述符(段值 0x17)，即把 fs 用于访问用户数据段。参见 system_call.s 第 89--93 行。因此在执行内核代码时，若要存取用户程序(任务)中的数据就需要使用特殊的方式。本文件中的 get_fs_byte()和 put_fs_byte()等函数就是专门用来访问用户程序中的数据。